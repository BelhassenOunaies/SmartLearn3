{% extends 'base.html.twig' %}

{% block title %}Smart Learn Dashboard!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
    a {padding: 10px}
    p {padding-left: 10px}
</style>

<div >
    <h1>Smart Learn Dashboard</h1>

    <ul>
        <li><p>Introduction a l'Algebre I</p><a id="add_achat_0" href="">Ajouter Au Cart</a></li>
        <li><p>Introduction a l'Algebre II</p><img src="" alt=""><a id="add_achat_1" href="">Ajouter Au Cart</a></li>
        <li><p>Introduction au Logique</p><img src="" alt=""><a id="add_achat_2" href="">Ajouter Au Cart</a></li>
        <li><p>Introduction au Prog. OO</p><img src="" alt=""><a id="add_achat_3" href="">Ajouter Au Cart</a></li>
    </ul>

    <p>___________________</p>

    <a href="{{ path('cart' )}}">Cart</a>
    <div></div>
    <a href="{{ path('owned_courses' )}}">Mes Cours</a>
    <div></div>
    <a href="{{ path('add_reclamation' )}}">Passer une reclamation</a>
</div>
{% endblock %}

{% block javascripts %}
    <script language = "javascript"
            src = "https://code.jquery.com/jquery-2.2.4.min.js"></script>

    <script language = "javascript">
        $(document).ready(function(){
            $("#add_achat_0").on("click", function(event){
                $.ajax({
                    url:        'dashboard/ajouter_cours/0',
                    type:       'POST',
                    dataType:   'json',
                    async:      true,

                    success: function(data, status) {


                        alert('Cours ajoutée au panier.');
                    },
                    error : function(xhr, textStatus, errorThrown) {
                        alert('Ajax request failed.');
                    }
                });
            });

            $("#add_achat_1").on("click", function(event){
                $.ajax({
                    url:        'dashboard/ajouter_cours/1',
                    type:       'POST',
                    dataType:   'json',
                    async:      true,

                    success: function(data, status) {


                        alert('Cours ajoutée au panier.');
                    },
                    error : function(xhr, textStatus, errorThrown) {
                        alert('Ajax request failed.');
                    }
                });
            });

            $("#add_achat_2").on("click", function(event){
                $.ajax({
                    url:        'dashboard/ajouter_cours/2',
                    type:       'POST',
                    dataType:   'json',
                    async:      true,

                    success: function(data, status) {


                        alert('Cours ajoutée au panier.');
                    },
                    error : function(xhr, textStatus, errorThrown) {
                        alert('Ajax request failed.');
                    }
                });
            });

            $("#add_achat_3").on("click", function(event){
                $.ajax({
                    url:        'dashboard/ajouter_cours/3',
                    type:       'POST',
                    dataType:   'json',
                    async:      true,

                    success: function(data, status) {


                        alert('Cours ajoutée au panier.');
                    },
                    error : function(xhr, textStatus, errorThrown) {
                        alert('Ajax request failed.');
                    }
                });
            });

        });
    </script>
{% endblock %}
